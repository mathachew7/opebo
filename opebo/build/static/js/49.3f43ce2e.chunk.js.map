{"version":3,"sources":["admin/AdminSignin.js"],"names":["logo","require","AdminSignin","useState","email","password","error","loading","redirectToReferrer","values","setValues","admin","isAuthenticated","handleChange","name","event","target","value","clickSubmit","preventDefault","adminSignin","then","data","authenticate","className","style","display","src","alt","action","method","type","aria-label","required","onChange","placeholder","onClick","fill","viewBox","fill-rule","d","clip-rule","to","role"],"mappings":"0KAIMA,EAAOC,EAAQ,IAoKNC,UAlKK,WAAO,IAAD,EACIC,mBAAS,CACnCC,MAAO,GACPC,SAAU,GACVC,MAAO,GACPC,SAAS,EACTC,oBAAoB,IANE,mBACjBC,EADiB,KACTC,EADS,KAShBN,EAAwDK,EAAxDL,MAAOC,EAAiDI,EAAjDJ,SAAUE,EAAuCE,EAAvCF,QAASD,EAA8BG,EAA9BH,MAAOE,EAAuBC,EAAvBD,mBACjCG,EAAUC,cAAVD,MAEFE,EAAe,SAACC,GAAD,OAAU,SAACC,GAC9BL,EAAU,eAAKD,EAAN,aAAcH,OAAO,GAAQQ,EAAOC,EAAMC,OAAOC,WAGtDC,EAAc,SAACH,GACnBA,EAAMI,iBACNT,EAAU,eAAKD,EAAN,CAAcH,OAAO,EAAOC,SAAS,KAC9Ca,YAAY,CAAEhB,QAAOC,aAAYgB,MAAK,SAACC,GACjCA,EAAKhB,MACPI,EAAU,eAAKD,EAAN,CAAcH,MAAOgB,EAAKhB,MAAOC,SAAS,KAEnDgB,YAAaD,GAAM,WACjBZ,EAAU,eACLD,EADI,CAEPD,oBAAoB,YA8H9B,OACE,6BAnBAD,GACE,yBAAKiB,UAAU,mFACb,wBAAIA,UAAU,cAAd,eAXJ,yBACEA,UAAU,iFACVC,MAAO,CAAEC,QAASpB,EAAQ,GAAK,SAE9BA,GAhGH,yBAAKkB,UAAU,gGACb,yBAAKA,UAAU,mBACb,6BACE,yBAAKA,UAAU,4BAA4BG,IAAK3B,EAAM4B,IAAI,UAC1D,wBAAIJ,UAAU,uEAAd,eAYF,0BAAMA,UAAU,OAAOK,OAAO,IAAIC,OAAO,QACvC,2BAAOC,KAAK,SAASjB,KAAK,WAAWG,MAAM,SAC3C,yBAAKO,UAAU,wBACb,6BACE,2BACEQ,aAAW,gBACXlB,KAAK,QACLiB,KAAK,QACLE,UAAQ,EACRC,SAAUrB,EAAa,SACvBW,UAAU,yOACVW,YAAY,gBACZlB,MAAOb,KAGX,yBAAKoB,UAAU,QACb,2BACEQ,aAAW,WACXlB,KAAK,WACLiB,KAAK,WACLE,UAAQ,EACRC,SAAUrB,EAAa,YACvBW,UAAU,yOACVW,YAAY,WACZlB,MAAOZ,MAgBb,yBAAKmB,UAAU,QACb,4BACEY,QAASlB,EACTa,KAAK,SACLP,UAAU,gPAEV,0BAAMA,UAAU,gCACd,yBACEA,UAAU,mFACVa,KAAK,eACLC,QAAQ,aAER,0BACEC,YAAU,UACVC,EAAE,yGACFC,YAAU,cAdlB,WAoBA,yBAAKjB,UAAU,sCACb,kBAAC,IAAD,CACEkB,GAAG,IACHlB,UAAU,0HAEV,uBAAGA,UAAU,2BAJf,gBA8BNhB,EACEG,GAAwB,IAAfA,EAAMgC,KACV,kBAAC,IAAD,CAAUD,GAAG,qBAEb,kBAAC,IAAD,CAAUA,GAAG,MAGpB9B,cACK,kBAAC,IAAD,CAAU8B,GAAG,WADtB","file":"static/js/49.3f43ce2e.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\nimport { adminSignin, authenticate, isAuthenticated } from \"./adminAuth\";\r\n\r\nconst logo = require(\"../assets/images/logo.png\");\r\n\r\nconst AdminSignin = () => {\r\n  const [values, setValues] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    error: \"\",\r\n    loading: false,\r\n    redirectToReferrer: false,\r\n  });\r\n\r\n  const { email, password, loading, error, redirectToReferrer } = values;\r\n  const { admin } = isAuthenticated();\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setValues({ ...values, error: false, [name]: event.target.value });\r\n  };\r\n\r\n  const clickSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: false, loading: true });\r\n    adminSignin({ email, password }).then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error, loading: false });\r\n      } else {\r\n        authenticate(data, () => {\r\n          setValues({\r\n            ...values,\r\n            redirectToReferrer: true,\r\n          });\r\n        });\r\n      }\r\n    });\r\n  };\r\n  const signUpForm = () => (\r\n    <div className='min-h-screen flex items-start justify-center font-sans bg-gray-100 py-2 px-4 sm:px-6 lg:px-8'>\r\n      <div className='max-w-md w-full'>\r\n        <div>\r\n          <img className='mx-auto h-24 mt-10 w-auto' src={logo} alt='OpeBo' />\r\n          <h2 className='mt-10 text-center text-3xl leading-9 font-sans font-bold text-black'>\r\n            Hi, Admin!\r\n          </h2>\r\n          {/*<p className='mt-0 text-center text-sm font-sans leading-5 text-gray-600 max-w'>\r\n            <Link\r\n              to='/admin/OpeBo/industries/0980/signup'\r\n              className='font-medium text-indigo-600 hover:text-indigo-500 focus:outline-none focus:underline transition ease-in-out duration-150'\r\n            >\r\n              Oops! New admin? Go to Sign up\r\n            </Link>\r\n  </p> */}\r\n        </div>\r\n        <form className='mt-8' action='#' method='POST'>\r\n          <input type='hidden' name='remember' value='true' />\r\n          <div className='rounded-md shadow-sm'>\r\n            <div>\r\n              <input\r\n                aria-label='Email address'\r\n                name='email'\r\n                type='email'\r\n                required\r\n                onChange={handleChange(\"email\")}\r\n                className='appearance-none relative bg-gray-300 block w-full px-3 py-3 border border-gray-400 placeholder-gray-900 text-gray-900 rounded-lg focus:outline-none focus:shadow-outline-blue focus:border-blue-300 focus:z-10 sm:text-sm sm:leading-5'\r\n                placeholder='Email address'\r\n                value={email}\r\n              />\r\n            </div>\r\n            <div className='mt-4'>\r\n              <input\r\n                aria-label='Password'\r\n                name='password'\r\n                type='password'\r\n                required\r\n                onChange={handleChange(\"password\")}\r\n                className='appearance-none relative block w-full px-3 py-3 bg-gray-300 border border-gray-400 placeholder-gray-900 text-gray-900 rounded-lg focus:outline-none focus:shadow-outline-blue focus:border-blue-300 focus:z-10 sm:text-sm sm:leading-5'\r\n                placeholder='Password'\r\n                value={password}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* <div className='mt-6 flex items-center justify-between'>\r\n            <div className='text-sm leading-5'>\r\n              <Link\r\n                to='/admin/forgot-password'\r\n                className='font-medium text-indigo-600 hover:text-indigo-500 focus:outline-none focus:underline transition ease-in-out duration-150'\r\n              >\r\n                Forgot your password?\r\n              </Link>\r\n            </div>\r\n  </div> */}\r\n\r\n          <div className='mt-6'>\r\n            <button\r\n              onClick={clickSubmit}\r\n              type='submit'\r\n              className='group relative w-full flex justify-center py-3 px-4 border border-transparent text-md font-bold rounded-lg text-white bg-red-600 hover:bg-black focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo ease-in-out uppercase'\r\n            >\r\n              <span className='absolute left-0 inset-y pl-3'>\r\n                <svg\r\n                  className='h-5 w-5 text-white group-hover:text-gray-400 transition ease-in-out duration-150'\r\n                  fill='currentColor'\r\n                  viewBox='0 0 20 20'\r\n                >\r\n                  <path\r\n                    fill-rule='evenodd'\r\n                    d='M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z'\r\n                    clip-rule='evenodd'\r\n                  />\r\n                </svg>\r\n              </span>\r\n              Sign In\r\n            </button>\r\n            <div className='text-sm leading-5 mt-4 text-center'>\r\n              <Link\r\n                to='/'\r\n                className='font-medium text-orange-500 hover:text-gray-900 focus:outline-none focus:underline transition ease-in-out duration-150'\r\n              >\r\n                <i className='fas fa-arrow-left px-2' />\r\n                Go Back\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n  const showError = () => (\r\n    <div\r\n      className='flex alert alert-danger justify-center items-center bg-red-500 text-white py-1'\r\n      style={{ display: error ? \"\" : \"none\" }}\r\n    >\r\n      {error}\r\n    </div>\r\n  );\r\n\r\n  const showLoading = () =>\r\n    loading && (\r\n      <div className='flex alert alert-info justify-center items-center bg-orange-500 text-white py-4'>\r\n        <h2 className='text-white'>Loading...</h2>\r\n      </div>\r\n    );\r\n\r\n  const redirectUser = () => {\r\n    if (redirectToReferrer) {\r\n      if (admin && admin.role === 1) {\r\n        return <Redirect to='/admin/dashboard' />;\r\n      } else {\r\n        return <Redirect to='/' />;\r\n      }\r\n    }\r\n    if (isAuthenticated()) {\r\n      return <Redirect to='/' />;\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      {showLoading()}\r\n      {showError()}\r\n      {signUpForm()}\r\n      {redirectUser()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminSignin;\r\n"],"sourceRoot":""}