{"version":3,"sources":["user/SigninPhone.js"],"names":["logo","require","SigninPhone","useState","phone","error","loading","redirectToReferrer","values","setValues","clickSubmit","event","preventDefault","signinWithPhone","then","data","authenticOtp","className","style","display","src","alt","to","action","method","type","name","value","aria-label","required","onChange","target","placeholder","onClick","fill","viewBox","fillRule","d","clipRule","signInForm","isAuthenticated"],"mappings":"yKAIMA,EAAOC,EAAQ,IAyJNC,UAvJK,WAAO,IAAD,EACIC,mBAAS,CACnCC,MAAO,GACPC,MAAO,GACPC,SAAS,EACTC,oBAAoB,IALE,mBACjBC,EADiB,KACTC,EADS,KAQhBL,EAA8CI,EAA9CJ,MAAOE,EAAuCE,EAAvCF,QAASD,EAA8BG,EAA9BH,MAAOE,EAAuBC,EAAvBD,mBAMzBG,EAAc,SAACC,GACnBA,EAAMC,iBACNH,EAAU,eAAKD,EAAN,CAAcH,OAAO,EAAOC,SAAS,KAC9CO,YAAgB,CAAET,UAASU,MAAK,SAACC,GAC3BA,EAAKV,MACPI,EAAU,eAAKD,EAAN,CAAcH,MAAOU,EAAKV,MAAOC,SAAS,KAEnDU,YAAaD,GAAM,WACjBN,EAAU,eACLD,EADI,CAEPD,oBAAoB,YAqH9B,OACE,6BAfAD,GACE,yBAAKW,UAAU,mFACb,wBAAIA,UAAU,cAAd,eAXJ,yBACEA,UAAU,iFACVC,MAAO,CAAEC,QAASd,EAAQ,GAAK,SAE9BA,GA5Fc,kBACjB,yBAAKY,UAAU,gGACb,yBAAKA,UAAU,mBACb,6BACE,yBAAKA,UAAU,4BAA4BG,IAAKpB,EAAMqB,IAAI,UAC1D,wBAAIJ,UAAU,uEAAd,qBAGA,uBAAGA,UAAU,oEACX,kBAAC,IAAD,CACEK,GAAG,UACHL,UAAU,4HAFZ,kCAOF,uBAAGA,UAAU,oEACX,kBAAC,IAAD,CACEK,GAAG,gBACHL,UAAU,4HAFZ,gCAQJ,0BAAMA,UAAU,OAAOM,OAAO,IAAIC,OAAO,QACvC,2BAAOC,KAAK,SAASC,KAAK,WAAWC,MAAM,SAC3C,yBAAKV,UAAU,wBACb,6BACE,2BACEW,aAAW,eACXF,KAAK,QACLD,KAAK,MACLI,UAAQ,EACRC,UAtDQJ,EAsDe,QAtDN,SAACf,GAC9BF,EAAU,eAAKD,EAAN,aAAcH,OAAO,GAAQqB,EAAOf,EAAMoB,OAAOJ,WAsD9CV,UAAU,sPACVe,YAAY,eACZL,MAAOvB,MAKb,yBAAKa,UAAU,0CACb,yBAAKA,UAAU,qBACb,kBAAC,IAAD,CACEK,GAAG,IACHL,UAAU,4HAFZ,2BASJ,yBAAKA,UAAU,QACb,4BACEgB,QAASvB,EACTe,KAAK,SACLR,UAAU,sRAEV,0BAAMA,UAAU,gCACd,yBACEA,UAAU,qFACViB,KAAK,eACLC,QAAQ,aAER,0BACEC,SAAS,UACTC,EAAE,yGACFC,SAAS,cAdjB,WAoBA,yBAAKrB,UAAU,sCACb,kBAAC,IAAD,CACEK,GAAG,IACHL,UAAU,0HAFZ,gBA/FS,IAACS,EAuIjBa,GAXChC,EACK,kBAAC,IAAD,CAAUe,GAAG,eAElBkB,cACK,kBAAC,IAAD,CAAUlB,GAAG,WADtB","file":"static/js/52.9f09496a.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\nimport { signinWithPhone, authenticOtp, isAuthenticated } from \"../auth\";\r\n\r\nconst logo = require(\"../assets/images/logo.png\");\r\n\r\nconst SigninPhone = () => {\r\n  const [values, setValues] = useState({\r\n    phone: \"\",\r\n    error: \"\",\r\n    loading: false,\r\n    redirectToReferrer: false,\r\n  });\r\n\r\n  const { phone, loading, error, redirectToReferrer } = values;\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setValues({ ...values, error: false, [name]: event.target.value });\r\n  };\r\n\r\n  const clickSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: false, loading: true });\r\n    signinWithPhone({ phone }).then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error, loading: false });\r\n      } else {\r\n        authenticOtp(data, () => {\r\n          setValues({\r\n            ...values,\r\n            redirectToReferrer: true,\r\n          });\r\n        });\r\n      }\r\n    });\r\n  };\r\n  const signInForm = () => (\r\n    <div className='min-h-screen flex items-start justify-center font-sans bg-gray-100 py-2 px-4 sm:px-6 lg:px-8'>\r\n      <div className='max-w-md w-full'>\r\n        <div>\r\n          <img className='mx-auto h-24 mt-10 w-auto' src={logo} alt='OpeBo' />\r\n          <h2 className='mt-10 text-center text-3xl leading-9 font-sans font-bold text-black'>\r\n            Hi, Welcome back!\r\n          </h2>\r\n          <p className='mt-0 text-center text-sm font-sans leading-5 text-gray-600 max-w'>\r\n            <Link\r\n              to='/signup'\r\n              className='font-medium text-indigo-600 hover:text-indigo-500 focus:outline-none focus:underline transition ease-in-out duration-150'\r\n            >\r\n              Oops! New here? Go to Sign up\r\n            </Link>\r\n          </p>\r\n          <p className='mt-0 text-center text-sm font-sans leading-5 text-gray-600 max-w'>\r\n            <Link\r\n              to='/signin-email'\r\n              className='font-medium text-indigo-600 hover:text-indigo-500 focus:outline-none focus:underline transition ease-in-out duration-150'\r\n            >\r\n              Sign In with email instead\r\n            </Link>\r\n          </p>\r\n        </div>\r\n        <form className='mt-8' action='#' method='POST'>\r\n          <input type='hidden' name='remember' value='true' />\r\n          <div className='rounded-md shadow-sm'>\r\n            <div>\r\n              <input\r\n                aria-label='Phone Number'\r\n                name='phone'\r\n                type='tel'\r\n                required\r\n                onChange={handleChange(\"phone\")}\r\n                className='appearance-none rounded-none relative bg-gray-300 block w-full px-3 py-2 border border-gray-100 placeholder-gray-900 text-gray-900 rounded-md focus:outline-none focus:shadow-outline-blue focus:border-blue-300 focus:z-10 sm:text-sm sm:leading-5'\r\n                placeholder='Phone Number'\r\n                value={phone}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className='mt-6 flex items-center justify-between'>\r\n            <div className='text-sm leading-5'>\r\n              <Link\r\n                to='/'\r\n                className='font-medium text-indigo-600 hover:text-indigo-500 focus:outline-none focus:underline transition ease-in-out duration-150'\r\n              >\r\n                Forgot your password?\r\n              </Link>\r\n            </div>\r\n          </div>\r\n\r\n          <div className='mt-6'>\r\n            <button\r\n              onClick={clickSubmit}\r\n              type='submit'\r\n              className='group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-black hover:bg-gray-800 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700 transition duration-150 ease-in-out'\r\n            >\r\n              <span className='absolute left-0 inset-y pl-3'>\r\n                <svg\r\n                  className='h-5 w-5 text-white group-hover:text-indigo-400 transition ease-in-out duration-150'\r\n                  fill='currentColor'\r\n                  viewBox='0 0 20 20'\r\n                >\r\n                  <path\r\n                    fillRule='evenodd'\r\n                    d='M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z'\r\n                    clipRule='evenodd'\r\n                  />\r\n                </svg>\r\n              </span>\r\n              Sign In\r\n            </button>\r\n            <div className='text-sm leading-5 mt-4 text-center'>\r\n              <Link\r\n                to='/'\r\n                className='font-medium text-orange-500 hover:text-gray-900 focus:outline-none focus:underline transition ease-in-out duration-150'\r\n              >\r\n                Go Back\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n  const showError = () => (\r\n    <div\r\n      className='flex alert alert-danger justify-center items-center bg-red-500 text-white py-1'\r\n      style={{ display: error ? \"\" : \"none\" }}\r\n    >\r\n      {error}\r\n    </div>\r\n  );\r\n\r\n  const showLoading = () =>\r\n    loading && (\r\n      <div className='flex alert alert-info justify-center items-center bg-orange-500 text-white py-4'>\r\n        <h2 className='text-white'>Loading...</h2>\r\n      </div>\r\n    );\r\n\r\n  const redirectUser = () => {\r\n    if (redirectToReferrer) {\r\n      return <Redirect to='/verifyOtp' />;\r\n    }\r\n    if (isAuthenticated()) {\r\n      return <Redirect to='/' />;\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      {showLoading()}\r\n      {showError()}\r\n      {signInForm()}\r\n      {redirectUser()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SigninPhone;\r\n"],"sourceRoot":""}