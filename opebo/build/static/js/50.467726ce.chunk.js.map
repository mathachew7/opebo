{"version":3,"sources":["admin/AdminSignup.js"],"names":["logo","require","AdminSignup","useState","name","email","password","error","success","values","setValues","handleChange","event","target","value","clickSubmit","preventDefault","adminSignup","then","data","includes","className","style","display","to","src","alt","type","aria-label","required","onChange","placeholder","onClick","fill","viewBox","fill-rule","d","clip-rule","isAuthenticated","redirectUser"],"mappings":"0KAIMA,EAAOC,EAAQ,IAkMNC,UAhMK,WAAO,IAAD,EACIC,mBAAS,CACnCC,KAAM,GACNC,MAAO,GACPC,SAAU,GACVC,MAAO,GACPC,SAAS,IANa,mBACjBC,EADiB,KACTC,EADS,KAShBN,EAA0CK,EAA1CL,KAAMC,EAAoCI,EAApCJ,MAAOC,EAA6BG,EAA7BH,SAAUE,EAAmBC,EAAnBD,QAASD,EAAUE,EAAVF,MAGlCI,EAAe,SAACP,GAAD,OAAU,SAACQ,GAC9BF,EAAU,eAAKD,EAAN,aAAcF,OAAO,GAAQH,EAAOQ,EAAMC,OAAOC,WAGtDC,EAAc,SAACH,GACnBA,EAAMI,iBACNN,EAAU,eAAKD,EAAN,CAAcF,OAAO,KAC9BU,YAAY,CAAEb,OAAMC,QAAOC,aAAYY,MAAK,SAACC,GACvCA,EAAKZ,MACHY,EAAKZ,MAAMa,SAAS,SACtBV,EAAU,eACLD,EADI,CAEPF,MAAO,iDACPC,SAAS,KAGXE,EAAU,eACLD,EADI,CAEPF,MAAOY,EAAKZ,MACZC,SAAS,KAIbE,EAAU,eACLD,EADI,CAEPL,KAAM,GACNC,MAAO,GACPC,SAAU,GACVC,MAAO,GACPC,SAAS,SA6IjB,OACE,6BA/BA,yBACEa,UAAU,iFACVC,MAAO,CAAEC,QAASf,EAAU,GAAK,SAFnC,uCAIuC,IACrC,kBAAC,IAAD,CACEgB,GAAG,gBACHH,UAAU,8FAFZ,WAdF,yBACEA,UAAU,iFACVC,MAAO,CAAEC,QAAShB,EAAQ,GAAK,SAE9BA,GAnGH,6BACE,yBAAKc,UAAU,gGACb,yBAAKA,UAAU,mBACb,6BACE,yBAAKA,UAAU,2BAA2BI,IAAKzB,EAAM0B,IAAI,UACzD,wBAAIL,UAAU,uEAAd,yBAYF,0BAAMA,UAAU,QACd,2BAAOM,KAAK,SAASvB,KAAK,WAAWU,MAAM,SAC3C,yBAAKO,UAAU,wBACb,6BACE,2BACEO,aAAW,OACXxB,KAAK,OACLuB,KAAK,OACLE,UAAQ,EACRC,SAAUnB,EAAa,QACvBU,UAAU,yOACVU,YAAY,YACZjB,MAAOV,KAGX,yBAAKiB,UAAU,QACb,2BACEO,aAAW,gBACXxB,KAAK,QACLuB,KAAK,QACLE,UAAQ,EACRC,SAAUnB,EAAa,SACvBU,UAAU,yOACVU,YAAY,gBACZjB,MAAOT,KAGX,yBAAKgB,UAAU,QACb,2BACEO,aAAW,WACXxB,KAAK,WACLuB,KAAK,WACLE,UAAQ,EACRC,SAAUnB,EAAa,YACvBU,UAAU,yOACVU,YAAY,WACZjB,MAAOR,MAKb,yBAAKe,UAAU,QACb,4BACEW,QAASjB,EACTY,KAAK,SACLN,UAAU,gPAEV,0BAAMA,UAAU,gCACd,yBACEA,UAAU,mFACVY,KAAK,eACLC,QAAQ,aAER,0BACEC,YAAU,UACVC,EAAE,yGACFC,YAAU,cAdlB,WAoBA,yBAAKhB,UAAU,sCACb,kBAAC,IAAD,CACEG,GAAG,IACHH,UAAU,0HAEV,uBAAGA,UAAU,2BAJf,iBAsCO,WACnB,GAAIiB,cACF,OACE,oCACE,yBACEjB,UAAU,iFACVC,MAAO,CAAEC,QAASf,EAAU,GAAK,SAFnC,sCAMA,kBAAC,IAAD,CAAUgB,GAAG,qBAPf,OAkBDe","file":"static/js/50.467726ce.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\nimport { adminSignup, isAuthenticated } from \"./adminAuth\";\r\n\r\nconst logo = require(\"../assets/images/logo.png\");\r\n\r\nconst AdminSignup = () => {\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    error: \"\",\r\n    success: false,\r\n  });\r\n\r\n  const { name, email, password, success, error } = values;\r\n  //const { admin } = isAuthenticated();\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setValues({ ...values, error: false, [name]: event.target.value });\r\n  };\r\n\r\n  const clickSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: false });\r\n    adminSignup({ name, email, password }).then((data) => {\r\n      if (data.error) {\r\n        if (data.error.includes(\"email\")) {\r\n          setValues({\r\n            ...values,\r\n            error: \"Admin already exists. Please try another email\",\r\n            success: false,\r\n          });\r\n        } else {\r\n          setValues({\r\n            ...values,\r\n            error: data.error,\r\n            success: false,\r\n          });\r\n        }\r\n      } else {\r\n        setValues({\r\n          ...values,\r\n          name: \"\",\r\n          email: \"\",\r\n          password: \"\",\r\n          error: \"\",\r\n          success: true,\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const signUpForm = () => (\r\n    <div>\r\n      <div className='min-h-screen flex items-start justify-center font-sans bg-gray-100 py-2 px-4 sm:px-6 lg:px-8'>\r\n        <div className='max-w-md w-full'>\r\n          <div>\r\n            <img className='mx-auto h-24 mt-8 w-auto' src={logo} alt='OpeBo' />\r\n            <h2 className='mt-10 text-center text-3xl leading-9 font-sans font-bold text-black'>\r\n              Create admin account\r\n            </h2>\r\n            {/*<p className='mt-0 text-center text-sm font-sans leading-5 text-gray-600 max-w'>\r\n              <a\r\n                href='/admin/OpeBo/industries/0980/signin'\r\n                className='font-medium text-indigo-600 hover:text-indigo-500 focus:outline-none focus:underline transition ease-in-out duration-150'\r\n              >\r\n                Already have an admin account? Login Instead\r\n              </a>\r\n  </p> */}\r\n          </div>\r\n          <form className='mt-8'>\r\n            <input type='hidden' name='remember' value='true' />\r\n            <div className='rounded-md shadow-sm'>\r\n              <div>\r\n                <input\r\n                  aria-label='Name'\r\n                  name='name'\r\n                  type='name'\r\n                  required\r\n                  onChange={handleChange(\"name\")}\r\n                  className='appearance-none relative bg-gray-300 block w-full px-3 py-3 border border-gray-400 placeholder-gray-900 text-gray-900 rounded-lg focus:outline-none focus:shadow-outline-blue focus:border-blue-300 focus:z-10 sm:text-sm sm:leading-5'\r\n                  placeholder='Full Name'\r\n                  value={name}\r\n                />\r\n              </div>\r\n              <div className='mt-4'>\r\n                <input\r\n                  aria-label='Email address'\r\n                  name='email'\r\n                  type='email'\r\n                  required\r\n                  onChange={handleChange(\"email\")}\r\n                  className='appearance-none relative bg-gray-300 block w-full px-3 py-3 border border-gray-400 placeholder-gray-900 text-gray-900 rounded-lg focus:outline-none focus:shadow-outline-blue focus:border-blue-300 focus:z-10 sm:text-sm sm:leading-5'\r\n                  placeholder='Email address'\r\n                  value={email}\r\n                />\r\n              </div>\r\n              <div className='mt-4'>\r\n                <input\r\n                  aria-label='Password'\r\n                  name='password'\r\n                  type='password'\r\n                  required\r\n                  onChange={handleChange(\"password\")}\r\n                  className='appearance-none relative block w-full px-3 py-3 bg-gray-300 border border-gray-400 placeholder-gray-900 text-gray-900 rounded-lg focus:outline-none focus:shadow-outline-blue focus:border-blue-300 focus:z-10 sm:text-sm sm:leading-5'\r\n                  placeholder='Password'\r\n                  value={password}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className='mt-6'>\r\n              <button\r\n                onClick={clickSubmit}\r\n                type='submit'\r\n                className='group relative w-full flex justify-center py-3 px-4 border border-transparent text-md font-bold rounded-lg text-white bg-red-600 hover:bg-black focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo ease-in-out uppercase'\r\n              >\r\n                <span className='absolute left-0 inset-y pl-3'>\r\n                  <svg\r\n                    className='h-5 w-5 text-white group-hover:text-gray-400 transition ease-in-out duration-150'\r\n                    fill='currentColor'\r\n                    viewBox='0 0 20 20'\r\n                  >\r\n                    <path\r\n                      fill-rule='evenodd'\r\n                      d='M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z'\r\n                      clip-rule='evenodd'\r\n                    />\r\n                  </svg>\r\n                </span>\r\n                Sign up\r\n              </button>\r\n              <div className='text-sm leading-5 mt-4 text-center'>\r\n                <Link\r\n                  to='/'\r\n                  className='font-medium text-orange-500 hover:text-gray-900 focus:outline-none focus:underline transition ease-in-out duration-150'\r\n                >\r\n                  <i className='fas fa-arrow-left px-2' />\r\n                  Go Back\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n  const showError = () => (\r\n    <div\r\n      className='flex alert alert-danger justify-center items-center bg-red-500 text-white py-1'\r\n      style={{ display: error ? \"\" : \"none\" }}\r\n    >\r\n      {error}\r\n    </div>\r\n  );\r\n\r\n  const showSuccess = () => (\r\n    <div\r\n      className='flex alert alert-info justify-center items-center bg-green-500 text-white py-1'\r\n      style={{ display: success ? \"\" : \"none\" }}\r\n    >\r\n      New admin account is created. Please{\" \"}\r\n      <Link\r\n        to='/admin/signin'\r\n        className='ml-3 bg-green-600 hove:bg-green-700 rounded px-4 py-1 text-green-200 hover:text-yellow-200'\r\n      >\r\n        Signin\r\n      </Link>\r\n    </div>\r\n  );\r\n\r\n  const redirectUser = () => {\r\n    if (isAuthenticated()) {\r\n      return (\r\n        <>\r\n          <div\r\n            className='flex alert alert-info justify-center items-center bg-green-500 text-white py-1'\r\n            style={{ display: success ? \"\" : \"none\" }}\r\n          >\r\n            Your account is already logged in!\r\n          </div>\r\n          <Redirect to='/admin/dashboard' />; ;\r\n        </>\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {showSuccess()}\r\n      {showError()}\r\n      {signUpForm()}\r\n      {redirectUser()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminSignup;\r\n"],"sourceRoot":""}