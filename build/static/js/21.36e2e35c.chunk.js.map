{"version":3,"sources":["user/UserBookings.js","assets/images/logo-w.png","modules/components/Footer.jsx","user/apiUser.js","assets/images/avatar.jpg","user/UserNavbar.js"],"names":["React","lazy","withRouter","history","useState","bookingHistory","setBookingHistory","fetched","setFetched","setLoading","isAuthenticated","user","_id","token","name","email","role","useEffect","userId","getPurchaseHistory","then","data","error","console","log","init","bookings","UserNavbar","className","to","map","booking","i","key","amount","orders","order","index","service","moment","createdAt","format","price","module","exports","logo","require","footer","props","href","src","alt","Date","getFullYear","read","fetch","API","method","headers","Accept","Authorization","response","json","catch","err","update","body","JSON","stringify","updateUser","next","window","localStorage","getItem","auth","parse","setItem","addUserAddress","address","getUserAddress","profileImage","isActive","path","location","pathname","color","backgroundColor","profileDropdown","toggleProfileDropdown","links","route","title","onClick","signout","push","dropMenu","link","style","userNavLinks","mainNavbar"],"mappings":"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","file":"static/js/21.36e2e35c.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link, withRouter, Redirect } from \"react-router-dom\";\r\nimport { getPurchaseHistory } from \"./apiUser\";\r\nimport moment from \"moment\";\r\nimport Footer from \"../modules/components/Footer\";\r\nimport UserNavbar from \"./UserNavbar\";\r\nimport Spinner from \"../core/components/Spinner\";\r\n\r\nconst CartCard2 = React.lazy(() => import(\"../core/components/Cart/CartCard2\"));\r\n\r\nconst UserBookings = ({ history }) => {\r\n  const [bookingHistory, setBookingHistory] = useState([]);\r\n  const [fetched, setFetched] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const {\r\n    user: { _id, name, email, role },\r\n  } = isAuthenticated();\r\n  const token = isAuthenticated().token;\r\n\r\n  const init = (userId, token) => {\r\n    setLoading(true);\r\n    setFetched(false);\r\n    getPurchaseHistory(userId, token).then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        setBookingHistory(data);\r\n        setFetched(true);\r\n        setLoading(false);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    init(_id, token);\r\n  }, [_id, token]);\r\n\r\n  const breadLinks = () => {\r\n    return (\r\n      <div className='flex flex-row mb-2'>\r\n        <Link\r\n          className='text-xs text-gray-500 hover:text-gray-800'\r\n          to={`/user/dashboard/${isAuthenticated().user._id}`}\r\n        >\r\n          Your account >{\" \"}\r\n        </Link>\r\n        <Link\r\n          className='ml-2 text-xs text-orange-600 hover:text-orange-500'\r\n          to={`/user/bookings/${isAuthenticated().user._id}`}\r\n        >\r\n          Your Bookings >{\" \"}\r\n        </Link>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  let Id;\r\n\r\n  const bookingsCard = (bookingsData) =>\r\n    bookingsData.map((booking, i) => (\r\n      <div\r\n        className='my-2 w-full border border-gray-300 rounded overflow-hidden hover:border-orange-500'\r\n        key={i}\r\n      >\r\n        <div\r\n          className='bg-gray-100 font-semibold border-b border-gray-400\r\n         flex flex-row justify-between uppercase items-baseline px-3 pt-2'\r\n        >\r\n          <p className='text-xsm font-normal'>\r\n            <span className='text-gray-600'>#{booking._id}</span>\r\n          </p>\r\n\r\n          <p className='text-xs font-normal'>\r\n            TOTAL : &#8377;{\" \"}\r\n            <span className='font-semibold'>{booking.amount}</span>\r\n          </p>\r\n          {/* <p className='text-xs font-normal'>\r\n            Booking for:{\" \"}\r\n            <span className='font-semibold'>{booking.user.name}</span>\r\n          </p> */}\r\n        </div>\r\n        <div className='px-5 py-3'>\r\n          {booking.orders.map((order, index) => (\r\n            <>\r\n              <div key={index} className='flex flex-row justify-between'>\r\n                <div>\r\n                  <p className='text-base font-semibold text-gray-800'>\r\n                    {order.name}\r\n                  </p>\r\n                  <p className='-mt-3 text-xs text-orange-600'>\r\n                    {order.service}\r\n                  </p>\r\n                  <p className='text-xs font-normal'>\r\n                    <span className='font-semibold'>\r\n                      {moment(order.createdAt).format(\"llll\")}\r\n                    </span>\r\n                  </p>\r\n                </div>\r\n                <p className='text-base font-semibold'>Price: {order.price}</p>\r\n                <hr />\r\n              </div>\r\n            </>\r\n          ))}\r\n          <div className=' py-2 flex flex-row justify-end'>\r\n            <Link\r\n              className='bg-orange-500 font-semibold hover:bg-orange-600 border border-gray-200 text-xsm px-5 py-2 text-white rounded'\r\n              to={`/user/bookings/${isAuthenticated().user._id}/${booking._id}`}\r\n            >\r\n              Order details\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    ));\r\n\r\n  const bookingsInfo = (bookings) => {\r\n    return (\r\n      <>\r\n        {UserNavbar(history)}\r\n        <div className='justify-center items-center md:px-40 mb-10 '>\r\n          <div className='bg-white flex flex-col rounded overflow-hidden px-3 -pt-16'>\r\n            {breadLinks()}\r\n\r\n            <h1 className='text-2xl text-left font-semibold'>Your Bookings</h1>\r\n            {fetched ? bookingsCard(bookings) : <Spinner />}\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n  return (\r\n    <>\r\n      {bookingsInfo(bookingHistory)}\r\n\r\n      <Footer />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withRouter(UserBookings);\r\n","module.exports = __webpack_public_path__ + \"static/media/logo-w.abbc65a9.png\";","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst logo = require(\"../../assets/images/logo-w.png\");\r\n\r\nconst footer = (props) => {\r\n  return (\r\n    <div>\r\n      <footer className='font-sans bg-black text-white pt-8 px-4 hover:text-orange-600'>\r\n        <div className='mx-auto container overflow-hidden flex flex-col lg:flex-row justify-between'>\r\n          <a href='/' className='block mr-4 w-1/3'>\r\n            <img src={logo} className='w-48 ' alt='logo' />\r\n          </a>\r\n\r\n          <div className='w-2/3 flex text-sm mt-6 lg:mt-0'>\r\n            <ul className='text-gray-700 list-none p-0 font-thin flex flex-col text-left'>\r\n              <div className='inline-block py-2 px-3 text-white uppercase no-underline font-bold tracking-wide'>\r\n                Product\r\n              </div>\r\n              <Link\r\n                key='Popular'\r\n                className='inline-block py-2 px-3 text-gray-500 hover:text-orange-500 font-medium no-underline'\r\n              >\r\n                Popular\r\n              </Link>\r\n              <Link\r\n                to='/privacypolicy'\r\n                key='PrivacyPolicy'\r\n                className='inline-block py-2 px-3 text-gray-500 hover:text-orange-500 font-medium no-underline'\r\n              >\r\n                Privacy Policy\r\n              </Link>\r\n              <Link\r\n                to='/disclaimer'\r\n                key='Disclaimer'\r\n                className='inline-block py-2 px-3 text-gray-500 hover:text-orange-500 font-medium no-underline'\r\n              >\r\n                Disclaimer\r\n              </Link>\r\n              <Link\r\n                to='/cookiespolicy'\r\n                key='CookiesPolicy'\r\n                className='inline-block py-2 px-3 text-gray-500 hover:text-orange-500 font-medium no-underline'\r\n              >\r\n                Cookies policy\r\n              </Link>\r\n            </ul>\r\n            <ul className='text-gray-700 list-none p-0 font-thin flex flex-col text-left'>\r\n              <div className='inline-block py-2 px-3 text-white uppercase no-underline font-bold tracking-wide'>\r\n                Company\r\n              </div>\r\n              <Link\r\n                to='/termsandconditions'\r\n                key='TermsAndConditions'\r\n                className='inline-block py-2 px-3 text-gray-500 hover:text-orange-500 font-medium no-underline'\r\n              >\r\n                Terms &amp; Condition\r\n              </Link>\r\n              <Link\r\n                to='/enduserlicense'\r\n                key='EndUserLicense'\r\n                className='inline-block py-2 px-3 text-gray-500 hover:text-orange-500 font-medium no-underline'\r\n              >\r\n                EULA\r\n              </Link>\r\n              <Link\r\n                to='/returnrefundpolicy'\r\n                key='ReturnRefundPolicy'\r\n                className='inline-block py-2 px-3 text-gray-500 hover:text-orange-500 font-medium no-underline'\r\n              >\r\n                Return, Refund policy\r\n              </Link>\r\n              <div>\r\n                <a className='inline-block py-2 px-3 text-gray-500 hover:text-orange-500 font-medium no-underline'>\r\n                  Works\r\n                </a>\r\n              </div>\r\n            </ul>\r\n            <ul className='text-gray-700 list-none p-0 font-thin flex flex-col text-left'>\r\n              <div className='inline-block py-2 px-3 text-white uppercase no-underline font-bold tracking-wide'>\r\n                Vendors\r\n              </div>\r\n              <div>\r\n                <a\r\n                  href='/contact'\r\n                  className='inline-block py-2 px-3 text-gray-500 hover:text-orange-500 font-medium no-underline'\r\n                >\r\n                  Contact\r\n                </a>\r\n              </div>\r\n              <div>\r\n                <a className='inline-block py-2 px-3 text-gray-500 hover:text-orange-500 font-medium no-underline'>\r\n                  Vendor Login\r\n                </a>\r\n              </div>\r\n              <div>\r\n                <a\r\n                  href='/'\r\n                  className='inline-block py-2 px-3 text-gray-500 hover:text-orange-500 font-medium no-underline'\r\n                >\r\n                  Services\r\n                </a>\r\n              </div>\r\n              <div>\r\n                <Link\r\n                  to='/about'\r\n                  className='inline-block py-2 px-3 text-gray-500 hover:text-orange-500 font-medium no-underline'\r\n                >\r\n                  Info\r\n                </Link>\r\n              </div>\r\n            </ul>\r\n          </div>\r\n          <div className='px-5 text-gray-700 flex justify-center'>\r\n            <div className='inline-block text-center justify-center py-2 px-3 text-white uppercase font-bold tracking-wide'>\r\n              Find Us ON\r\n              <div className='flex pt-4'>\r\n                <a\r\n                  className='block flex items-center text-white hover:text-orange-500 mr-6 no-underline'\r\n                  href='https://wa.me/917042161702'\r\n                >\r\n                  <i className='fab fa-whatsapp text-2xl'></i>\r\n                </a>\r\n                <a\r\n                  className='block flex items-center text-white hover:text-orange-500 mr-6 no-underline'\r\n                  href='https://www.facebook.com/opeboindustries/'\r\n                >\r\n                  <i className='fab fa-facebook text-2xl'></i>\r\n                </a>\r\n                <a\r\n                  className='block flex items-center text-white hover:text-orange-500 no-underline'\r\n                  href='https://www.instagram.com/opeboindustries/'\r\n                >\r\n                  <i className='fab fa-instagram text-2xl'></i>\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className='pt-5 mt-4 flex flex-col text-gray-700 border-t border-gray-900 text-center'>\r\n          <div>\r\n            <Link to='/' className='font-bold text-white hover:text-orange-500'>\r\n              {\" \"}\r\n              OpeBo Industries\r\n            </Link>\r\n            . All rights reserved.\r\n          </div>\r\n          <p>©Copyright {new Date().getFullYear()}</p>\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default footer;\r\n","import { API } from \"../config\";\r\nimport { values } from \"lodash\";\r\n\r\nexport const read = (userId, token) => {\r\n  return fetch(`${API}/user/${userId}`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const update = (userId, token, user) => {\r\n  return fetch(`${API}/user/${userId}`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify(user),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const updateUser = (user, next) => {\r\n  if (typeof window !== \"undefined\") {\r\n    if (localStorage.getItem(\"jwt\")) {\r\n      let auth = JSON.parse(localStorage.getItem(\"jwt\"));\r\n      auth.user = user;\r\n      localStorage.setItem(\"jwt\", JSON.stringify(auth));\r\n      next();\r\n    }\r\n  }\r\n};\r\n\r\nexport const getPurchaseHistory = (userId, token) => {\r\n  return fetch(`${API}/orders/by/user/${userId}`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const getOrderById = (userId, token, orderId) => {\r\n  return fetch(`${API}/order/${orderId}/user/${userId}`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nexport const addUserAddress = (userId, token, address) => {\r\n  return fetch(`${API}/user/addAddress/${userId}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify(address),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n};\r\n\r\nexport const getUserAddress = (userId, token) => {\r\n  return fetch(`${API}/userAddress/${userId}`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n","module.exports = __webpack_public_path__ + \"static/media/avatar.b84d6c6b.jpg\";","import React, { useState, useEffect } from \"react\";\r\nimport { isAuthenticated, signout } from \"../auth\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { getPurchaseHistory } from \"./apiUser\";\r\n\r\nconst profileImage = require(\"../assets/images/avatar.jpg\");\r\n\r\nconst isActive = (history, path) => {\r\n  if (history.location.pathname === path) {\r\n    return {\r\n      color: \"#fff\",\r\n      backgroundColor: \"#000000\",\r\n    };\r\n  } else {\r\n    return { color: \"#111111\" };\r\n  }\r\n};\r\n\r\nconst UserNavbar = ({ history }) => {\r\n  const [profileDropdown, toggleProfileDropdown] = useState(false);\r\n\r\n  const logo = require(\"../assets/images/logo.png\");\r\n\r\n  const {\r\n    user: { _id, name, email, role },\r\n  } = isAuthenticated();\r\n  const token = isAuthenticated().token;\r\n\r\n  const init = (userId, token) => {\r\n    getPurchaseHistory(userId, token).then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      }\r\n      // else {\r\n      //   setHistory(data);\r\n      // }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    init(_id, token);\r\n  }, [_id, token]);\r\n\r\n  const links = [\r\n    {\r\n      route: `/`,\r\n      title: `Home`,\r\n    },\r\n    {\r\n      route: `/user/dashboard/${_id}`,\r\n      title: `Profile`,\r\n    },\r\n\r\n    {\r\n      route: `/user/bookings/${_id}`,\r\n      title: `My Bookings`,\r\n    },\r\n    {\r\n      route: `/user/locations/${_id}`,\r\n      title: `My Locations`,\r\n    },\r\n    {\r\n      route: `/notifications`,\r\n      title: `Notifications`,\r\n    },\r\n    {\r\n      route: `/services`,\r\n      title: `Services`,\r\n    },\r\n    {\r\n      route: `/about`,\r\n      title: `About`,\r\n    },\r\n    {\r\n      route: `/contact`,\r\n      title: `Contact`,\r\n    },\r\n    {\r\n      route: `/opebospecials`,\r\n      title: `Opebo Specials`,\r\n    },\r\n  ];\r\n\r\n  const dropMenu = (history) => {\r\n    return (\r\n      <div className='rounded shadow-md bg-white absolute pin-t mt-1 -ml-10'>\r\n        <ul className='list-reset'>\r\n          <li>\r\n            <Link\r\n              to='/cart'\r\n              className='no-underline px-4 py-2 block text-black hover:text-orange-500 hover:bg-grey-300'\r\n            >\r\n              Cart\r\n            </Link>\r\n          </li>\r\n          <li>\r\n            <Link\r\n              to={`/user/dashboard/${_id}`}\r\n              className='no-underline px-4 py-2 block text-black hover:text-orange-500 hover:bg-grey-300'\r\n            >\r\n              Dashboard\r\n            </Link>\r\n          </li>\r\n          <li>\r\n            <hr className='border-t mx-2 border-grey-800' />\r\n          </li>\r\n          <li>\r\n            <Link\r\n              to='/'\r\n              onClick={() =>\r\n                signout(() => {\r\n                  history.push(\"/\");\r\n                })\r\n              }\r\n              className='no-underline px-4 py-2 block text-red-500 font-bold hover:text-orange-500 hover:bg-grey-300'\r\n            >\r\n              Logout\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const userNavLinks = (history) => {\r\n    return (\r\n      <div className='overflow-hidden overflow-x-hidden flex items-center justify-center pt-2'>\r\n        <div className='scrolling-touch bg-transparent w-screen overflow-auto whitespace-no-wrap py-3 pb-10 px-2 text-center'>\r\n          {links.map((link) => (\r\n            <Link\r\n              key={link.title}\r\n              to={link.route}\r\n              style={isActive(history, `${link.route}`)}\r\n              className='no-underline mr-2 mb-2 p-3 rounded active:text-black hover:bg-gray-100 hover:text-white bg-gray-300 active:bg-orange-400 text-black'\r\n            >\r\n              {link.title}\r\n            </Link>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const mainNavbar = (history, name) => {\r\n    return (\r\n      <>\r\n        <header className='antialiased bg-gray-200 pb-2 font-sans'>\r\n          <div className='container mx-auto font-sans'>\r\n            <div className='flex justify-between items-center px-5 py-2 border-b-2 border-gray-200'>\r\n              <button className='flex flex-wrap items-center text-xl font-semibold'>\r\n                <Link to='/' key='Home'>\r\n                  <img className='h-10 mr-2 w-auto' src={logo} alt='logo'></img>\r\n                </Link>\r\n              </button>\r\n              <div className='z-10'>\r\n                <button onClick={() => toggleProfileDropdown(!profileDropdown)}>\r\n                  <span className='text-xs px-3 items-baseline'>{name}</span>\r\n                  <img\r\n                    className='inline-block h-8 w-8 rounded-full'\r\n                    src={profileImage}\r\n                    alt='profile'\r\n                  />\r\n                </button>\r\n                <div className={`${profileDropdown ? `block` : `hidden`}`}>\r\n                  {dropMenu(history)}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </header>\r\n        {userNavLinks(history)}\r\n      </>\r\n    );\r\n  };\r\n\r\n  return <>{mainNavbar(history, name)}</>;\r\n};\r\n\r\nexport default withRouter(UserNavbar);\r\n"],"sourceRoot":""}